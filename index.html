<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>แบบประเมินความเสี่ยงการลงทุน</title>

<style>
  :root{
    --primary:#0b5ed7;
    --bg:#f4f6f8;
    --card:#fff;
    --text:#1b1f24;
    --muted:#6b7280;
    --border:#e5e7eb;
  }
  body{
    font-family: Tahoma, sans-serif;
    background: var(--bg);
    margin:0;
    padding:24px;
    color:var(--text);
  }
  .container{ max-width: 900px; margin:0 auto; }
  .card{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:12px;
    padding:22px;
    box-shadow:0 4px 18px rgba(0,0,0,.06);
  }
  h1{ margin:0 0 6px 0; font-size: 26px; }
  .subtitle{ margin:0 0 18px 0; color:var(--muted); font-size:14px; }

  .question{
    margin: 14px 0;
    padding: 14px;
    border: 1px solid var(--border);
    border-radius: 10px;
    background:#fafafa;
  }
  .question-title{ font-weight:700; margin-bottom:10px; }

  .choices{ display:flex; flex-direction:column; gap:10px; }

  .choice{
    display:flex;
    align-items:center;
    gap:10px;
    padding:10px 12px;
    background:#fff;
    border:1px solid #cbd5e1;
    border-radius:10px;
    cursor:pointer;
  }

  .actions{ display:flex; gap:12px; margin-top:16px; }
  button{
    padding: 12px 16px;
    border-radius: 10px;
    border:none;
    cursor:pointer;
    font-size:16px;
  }
  .btn-primary{ background:var(--primary); color:#fff; }
  .btn-secondary{ background:#e5e7eb; }

  .result{
    margin-top:18px;
    display:none;
    padding: 16px;
    border-radius: 10px;
    border:1px solid var(--border);
  }

  .badge{
    padding:6px 12px;
    border-radius:999px;
    font-weight:700;
    margin-left:6px;
  }
  .low{ background:#dcfce7; color:#166534; }
  .medium{ background:#fef9c3; color:#854d0e; }
  .high{ background:#fee2e2; color:#991b1b; }

  table{ width:100%; border-collapse:collapse; margin-top:12px; }
  th,td{ border:1px solid var(--border); padding:10px; text-align:center; }
  th{ background:#f1f5f9; }
</style>
</head>

<body>
<div class="container">
<div class="card">
<h1>แบบประเมินระดับความเสี่ยงการลงทุน</h1>
<p class="subtitle">ประเมินผลได้ทันที (ไม่บันทึกลงฐานข้อมูล)</p>

<form id="riskForm">
  <!-- ใช้คำถามเดิม -->
  <div class="question">
    <div class="question-title">1) อายุของคุณ</div>
    <div class="choices">
      <label class="choice"><input type="radio" name="q1" value="1" required> มากกว่า 60 ปี</label>
      <label class="choice"><input type="radio" name="q1" value="2"> 46 - 60 ปี</label>
      <label class="choice"><input type="radio" name="q1" value="3"> 36 - 45 ปี</label>
      <label class="choice"><input type="radio" name="q1" value="4"> น้อยกว่า 35 ปี</label>
    </div>
  </div>

  <div class="question">
    <div class="question-title">2) รายได้ต่อเดือน</div>
    <div class="choices">
      <label class="choice"><input type="radio" name="q2" value="1" required> ต่ำกว่า 15,000</label>
      <label class="choice"><input type="radio" name="q2" value="2"> 15,000 - 30,000</label>
      <label class="choice"><input type="radio" name="q2" value="3"> 30,001 - 50,000</label>
      <label class="choice"><input type="radio" name="q2" value="4"> มากกว่า 50,000</label>
    </div>
  </div>

  <div class="question">
    <div class="question-title">3) เงินออมเทียบรายจ่าย</div>
    <div class="choices">
      <label class="choice"><input type="radio" name="q3" value="1" required> ต่ำกว่า 3 เท่า</label>
      <label class="choice"><input type="radio" name="q3" value="2"> 3 - 6 เท่า</label>
      <label class="choice"><input type="radio" name="q3" value="3"> 6 - 12 เท่า</label>
      <label class="choice"><input type="radio" name="q3" value="4"> มากกว่า 12 เท่า</label>
    </div>
  </div>

  <div class="question">
    <div class="question-title">4) ประสบการณ์ลงทุน</div>
    <div class="choices">
      <label class="choice"><input type="radio" name="q4" value="1" required> ไม่เคยลงทุน</label>
      <label class="choice"><input type="radio" name="q4" value="2"> เงินฝาก/ตราสารหนี้</label>
      <label class="choice"><input type="radio" name="q4" value="3"> หุ้น/กองทุนบ้าง</label>
      <label class="choice"><input type="radio" name="q4" value="4"> ลงทุนเป็นประจำ</label>
    </div>
  </div>

  <div class="question">
    <div class="question-title">5) ถ้าพอร์ตขาดทุน 20%</div>
    <div class="choices">
      <label class="choice"><input type="radio" name="q5" value="1" required> ขายหมด</label>
      <label class="choice"><input type="radio" name="q5" value="2"> ขายบางส่วน</label>
      <label class="choice"><input type="radio" name="q5" value="3"> ถือรอ</label>
      <label class="choice"><input type="radio" name="q5" value="4"> ซื้อเพิ่ม</label>
    </div>
  </div>

  <div class="actions">
    <button class="btn-primary">ประเมินผล</button>
    <button type="button" class="btn-secondary" onclick="this.form.reset()">ล้าง</button>
  </div>
</form>

<div id="result" class="result"></div>
</div>
</div>

<script>
function computeRisk(score){
  if(score <= 8) return {level:"ต่ำ",cls:"low",p:[["เงินฝาก","70%"],["ตราสารหนี้","25%"],["หุ้น","5%"]]};
  if(score <= 14) return {level:"ปานกลาง",cls:"medium",p:[["เงินฝาก","40%"],["ตราสารหนี้","40%"],["หุ้น","20%"]]};
  return {level:"สูง",cls:"high",p:[["เงินฝาก","20%"],["ตราสารหนี้","30%"],["หุ้น","50%"]]};
}

document.getElementById("riskForm").addEventListener("submit", e=>{
  e.preventDefault();
  const fd = new FormData(e.target);
  let score = 0;
  ["q1","q2","q3","q4","q5"].forEach(q=> score += parseInt(fd.get(q)));

  const r = computeRisk(score);

  document.getElementById("result").style.display="block";
  document.getElementById("result").innerHTML=`
    <h3>คะแนนรวม: ${score}</h3>
    <p>ระดับความเสี่ยง:
      <span class="badge ${r.cls}">${r.level}</span>
    </p>
    <table>
      <tr><th>สินทรัพย์</th><th>สัดส่วน</th></tr>
      ${r.p.map(x=>`<tr><td>${x[0]}</td><td>${x[1]}</td></tr>`).join("")}
    </table>
  `;
});
</script>
</body>
</html>
